 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title> Step Counter </title>
 </head>
 <body>
     <!-- <h1> This app measures the steps </h1> -->

     <h1> Now trying Accelerometer!! </h1>

     <p> X: <span id="alpha">  </span> </p>
     <p> Y: <span id="beta">  </span> </p>
     <p> Z: <span id="gamma">  </span> </p>
     <!-- <p> Absolute: <span id="abs">  </span> </p> -->

     <!-- <ul id="recorder">

     </ul> -->

     <button id="start"> start </button>
     <button id="stop"> stop </button>

     <canvas id="myChart" width="400" height="400"></canvas>


 </body>

 <!-- <script src="./shake.js"></script> -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.1/chart.min.js "></script>
 <script>
    // grab all  DOM
    const a = document.querySelector('#alpha')
    const b = document.querySelector('#beta')
    const c = document.querySelector('#gamma')

    const start = document.querySelector('#start')
    const stop = document.querySelector('#stop')
    

    // const abs = document.querySelector('#abs')

    // const startRecording = document.querySelector('#start')
    // const recorder = document.querySelector('#recorder')

    // let recording = false;

    // // handle orientation
    // const handleOrientation = (e) => {
    //     let absolute = e.absolute
    //     let alpha = e.alpha
    //     let beta = e.beta
    //     let gamma = e.gamma

    //     a.innerHTML = alpha
    //     b.innerHTML = beta
    //     c.innerHTML = gamma
    //     abs.innerHTML = absolute

    //     startRecording.addEventListener('click', () => {
    //         let li = document.createElement('li')
    //         li.innerHTML = `<span> Alpha: ${alpha} | Beta: ${beta} | Gamma: ${gamma} <span>`
    //         recorder.appendChild(li)
    //     })
    // }

    // // listen to deviceornentation event
    // window.addEventListener('deviceorientation', handleOrientation, false)

    // var myShakeEvent = new Shake({
    //     threshold: 1, // optional shake strength threshold
    //     timeout: 500 // optional, determines the frequency of event generation
    // });
    // myShakeEvent.start();

    // window.addEventListener('shake', shakeEventDidOccur, false);

    // //function to call when shake occurs
    // function shakeEventDidOccur () {

    //     //put your own code here etc.
    //     alert('shake!');
    // }

    // define chart here
    const showChart = () => {
        
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

    }


    // now, trying if accelerometer sensor api can achieve this

    let readings = []


    let acl = new Accelerometer({frequency: 1})
    acl.addEventListener('reading', () => {
        a.innerHTML = acl.x
        b.innerHTML = acl.y
        c.innerHTML = acl.z

        const r = {
            x: acl.x,
            y: cal.y,
            z: cal.z,
            timestamp: cal.timestamp
        }

        readings.push(r)

    })

    start.addEventListener('click', () => {
        acl.start()
    })

    stop.addEventListener('click', () => {
        acl.stop()

        // populate reading values in the chart
        showChart()
    })

 </script>

 </html>